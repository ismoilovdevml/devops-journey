import { Callout } from "nextra-theme-docs";

# Multi-Node Clusterdan foydalanish

![k8s](/images/tutorials/k8s/multi-node/1.jpg)


Ushbu qo'llanma sizga `minikube`-da multi-node(ko'p tugunli) clusterlarni qanday boshlash va unga serviceni deploy qilishni ko'rsatib beradi.

<Callout type="info" emoji="">
##### Sizga kerak bo'ladi

* `minikube` 1.10.1 yoki undan yuqori versiya
* kubectl
</Callout>

## Qo'llanma
Siz tanlagan drayverda 2 ta nodeli clusterni start berish:
```bash
minikube start --nodes 2 -p multinode-demo
```
```txt  filename="natija"
ğŸ˜„  [multinode-demo] minikube v1.18.1 on Opensuse-Tumbleweed
âœ¨  Automatically selected the docker driver
ğŸ‘  Starting control plane node multinode-demo in cluster multinode-demo
ğŸ”¥  Creating docker container (CPUs=2, Memory=8000MB) ...
ğŸ³  Preparing Kubernetes v1.20.2 on Docker 20.10.3 ...
    â–ª Generating certificates and keys ...
    â–ª Booting up control plane ...
    â–ª Configuring RBAC rules ...
ğŸ”—  Configuring CNI (Container Networking Interface) ...
ğŸ”  Verifying Kubernetes components...
    â–ª Using image gcr.io/k8s-minikube/storage-provisioner:v5
ğŸŒŸ  Enabled addons: storage-provisioner, default-storageclass

ğŸ‘  Starting node multinode-demo-m02 in cluster multinode-demo
ğŸ”¥  Creating docker container (CPUs=2, Memory=8000MB) ...
ğŸŒ  Found network options:
    â–ª NO_PROXY=192.168.49.2
ğŸ³  Preparing Kubernetes v1.20.2 on Docker 20.10.3 ...
    â–ª env NO_PROXY=192.168.49.2
ğŸ”  Verifying Kubernetes components...
ğŸ„  Done! kubectl is now configured to use "multinode-demo" cluster and "default" namespace by default
```
Nodelar listini(ro'yxatini) ko'ring.
```bash
kubectl get nodes
```

```txt  filename="natija"
NAME                 STATUS   ROLES                  AGE   VERSION
multinode-demo       Ready    control-plane,master   99s   v1.20.2
multinode-demo-m02   Ready    <none>                 73s   v1.20.2
```

Shuningdek, siz nodelaringiz holatini(statusini) tekshirishingiz mumkin:
```bash
minikube status -p multinode-demo
```
```txt  filename="natija"
multinode-demo
type: Control Plane
host: Running
kubelet: Running
apiserver: Running
kubeconfig: Configured

multinode-demo-m02
type: Worker
host: Running
kubelet: Running
```

hello world deploymentimizni ishga tushiring:

```bash
kubectl apply -f hello-deployment.yaml
```
```txt filename="natija"
deployment.apps/hello created
```
```bash
kubectl rollout status deployment/hello
```
```txt  filename="natija"
deployment "hello" successfully rolled out
```
So'rov(request) yuborilgan IP-manzilni qaytaradigan hello world servicemizni ishga tushiring:

```bash
kubectl apply -f hello-svc.yaml
```

```txt  filename="natija"
service/hello created
```

Kelajakda ma'lumot olish uchun podlarimizning IP manzillarini tekshiring

```bash
kubectl get pods -o wide
```
```txt  filename="natija"
NAME                     READY   STATUS    RESTARTS   AGE   IP           NODE                 NOMINATED NODE   READINESS GATES
hello-695c67cf9c-bzrzk   1/1     Running   0          22s   10.244.1.2   multinode-demo-m02   <none>           <none>
hello-695c67cf9c-frcvw   1/1     Running   0          22s   10.244.0.3   multinode-demo       <none>           <none>
```